<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Virtual Jar of Fucks</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --card: #020617;
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.12);
      --text: #f9fafb;
      --muted: #9ca3af;
      --danger: #fca5a5;
      --border-subtle: rgba(148, 163, 184, 0.35);
      --radius-xl: 20px;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: radial-gradient(circle at top, #0f172a 0, #020617 50%, #000 100%);
      color: var(--text);
      padding: 20px 12px;
    }

    .frame {
      max-width: 440px;
      width: 100%;
    }

    .card {
      background: var(--card);
      border-radius: var(--radius-xl);
      padding: 22px 20px 18px;
      border: 1px solid var(--border-subtle);
      box-shadow: 0 26px 50px rgba(0, 0, 0, 0.9);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0 0, rgba(249, 115, 22, 0.14), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
    }

    .card-inner {
      position: relative;
      z-index: 1;
    }

    .header-row {
      display: flex;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 12px;
    }

    .title-block h1 {
      margin: 0 0 4px;
      font-size: 1.6rem;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .jar-emoji {
      font-size: 1.8rem;
    }

    .subtitle {
      margin: 0;
      font-size: 0.9rem;
      color: var(--muted);
    }

    .pill {
      align-self: flex-start;
      font-size: 0.72rem;
      letter-spacing: 0.12em;
      text-transform: uppercase;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.95);
      color: var(--muted);
      white-space: nowrap;
    }

    .main {
      margin-top: 18px;
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 18px;
      align-items: center;
    }

    .jar {
      width: 110px;
      height: 150px;
      border-radius: 48px;
      border: 3px solid rgba(148, 163, 184, 0.85);
      position: relative;
      background:
        radial-gradient(circle at 20% 0, rgba(255, 255, 255, 0.22), transparent 55%),
        radial-gradient(circle at 80% 0, rgba(148, 163, 184, 0.3), transparent 60%);
      overflow: hidden;
    }

    .jar-lid {
      position: absolute;
      top: -16px;
      left: 50%;
      transform: translateX(-50%);
      width: 76px;
      height: 24px;
      border-radius: 999px;
      background: linear-gradient(to right, #4b5563, #9ca3af);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.7);
    }

    .jar-fill {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 0%;
      background: linear-gradient(to top, #f97316, #fed7aa);
      transition: height 0.25s ease-out;
    }

    .jar-reflection {
      position: absolute;
      inset: 12px;
      border-radius: 40px;
      border: 1px solid rgba(148, 163, 184, 0.35);
      box-shadow:
        inset 0 0 0 1px rgba(15, 23, 42, 1),
        inset 10px 0 16px rgba(15, 23, 42, 0.95);
      pointer-events: none;
    }

    .stats {
      padding-left: 4px;
    }

    .label {
      font-size: 0.78rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      margin-bottom: 3px;
    }

    .count-row {
      display: flex;
      align-items: baseline;
      gap: 8px;
    }

    .count-value {
      font-size: 2.8rem;
      font-weight: 700;
      line-height: 1;
    }

    .count-unit {
      font-size: 0.9rem;
      color: var(--muted);
    }

    .status {
      margin-top: 8px;
      font-size: 0.9rem;
      color: var(--muted);
      min-height: 1.4em;
    }

    .status.empty {
      color: var(--danger);
      font-weight: 500;
    }

    .baseline {
      margin-top: 14px;
      font-size: 0.85rem;
      color: var(--muted);
    }

    .divider {
      margin-top: 16px;
      border-top: 1px solid rgba(31, 41, 55, 0.9);
    }

    .buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-top: 16px;
    }

    button {
      border-radius: 999px;
      border: none;
      padding: 8px 14px;
      font-size: 0.9rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: #0b1120;
      color: var(--text);
      border: 1px solid rgba(148, 163, 184, 0.7);
      transition:
        transform 0.07s ease,
        box-shadow 0.07s ease,
        background 0.15s ease,
        border-color 0.15s ease;
      white-space: nowrap;
    }

    button:hover {
      background: #020617;
      border-color: #e5e7eb;
      box-shadow: 0 6px 14px rgba(15, 23, 42, 0.9);
    }

    button:active {
      transform: translateY(1px) scale(0.99);
      box-shadow: none;
    }

    .primary {
      background: radial-gradient(circle at 0 0, #fed7aa, #f97316);
      color: #111827;
      border-color: #f97316;
      font-weight: 600;
      box-shadow: 0 10px 22px rgba(249, 115, 22, 0.45);
    }

    .primary:hover {
      background: radial-gradient(circle at 0 0, #ffedd5, #f97316);
    }

    .primary:disabled {
      opacity: 0.45;
      cursor: not-allowed;
      box-shadow: none;
    }

    .accent {
      background: var(--accent-soft);
      color: var(--accent);
      border-color: rgba(249, 115, 22, 0.7);
    }

    .accent:hover {
      background: rgba(249, 115, 22, 0.2);
    }

    .subtle {
      background: rgba(15, 23, 42, 0.95);
      color: var(--muted);
    }

    .subtle:hover {
      color: var(--text);
    }

    .decision-block {
      margin-top: 14px;
      font-size: 0.85rem;
    }

    .decision-label {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      font-size: 0.72rem;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .decision-text {
      color: var(--text);
      min-height: 1.4em;
    }

    .note {
      margin-top: 10px;
      font-size: 0.78rem;
      color: var(--muted);
      padding: 8px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.95);
      border: 1px dashed rgba(148, 163, 184, 0.7);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .note-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: var(--accent);
      flex-shrink: 0;
    }

    @media (max-width: 520px) {
      .card {
        padding: 20px 16px 16px;
      }

      .header-row {
        flex-direction: column;
        align-items: flex-start;
        gap: 6px;
      }

      .main {
        grid-template-columns: 1fr;
        justify-items: center;
        text-align: center;
      }

      .stats {
        padding-left: 0;
      }

      .status,
      .baseline,
      .decision-block {
        text-align: center;
      }
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="card">
      <div class="card-inner">
        <div class="header-row">
          <div class="title-block">
            <h1>
              <span class="jar-emoji">ðŸ«™</span>
              Jar of Fucks
            </h1>
            <p class="subtitle">
              A small daily dashboard for how much you honestly have to give,
              so you stop acting like your energy is unlimited.
            </p>
          </div>
          <div class="pill">Daily capacity</div>
        </div>

        <div class="main">
          <div class="jar">
            <div class="jar-lid"></div>
            <div class="jar-fill" id="jarFill"></div>
            <div class="jar-reflection"></div>
          </div>

          <div class="stats">
            <div class="label">Remaining fucks today</div>
            <div class="count-row">
              <div class="count-value" id="countValue">â€“</div>
              <div class="count-unit" id="countUnit">fucks</div>
            </div>
            <div class="status" id="statusText"></div>

            <p class="baseline">
              This is your daily fuck budget. You do not have to spend all of it.
            </p>
          </div>
        </div>

        <div class="divider"></div>

        <div class="buttons">
          <button class="primary" id="giveBtn">âœ‹ Give a fuck</button>
          <button class="accent" id="randomBtn">ðŸŽ² Do I care?</button>
          <button class="subtle" id="resetBtn">â™» Refill jar</button>
        </div>

        <div class="decision-block">
          <div class="decision-label">Latest decision</div>
          <div class="decision-text" id="decisionText">
            No decisions logged yet. You are still hoarding your fucks.
          </div>
        </div>

        <div class="note">
          <div class="note-dot"></div>
          <div>
            Reset happens once per day the first time you open this.
            Everything stays in your browser. This is not therapy. It is a boundary reminder.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Config
    const STARTING_FUCKS = 10;
    const STORAGE_KEY = "virtualJarOfFucks:v2";

    const countEl = document.getElementById("countValue");
    const unitEl = document.getElementById("countUnit");
    const statusEl = document.getElementById("statusText");
    const jarFillEl = document.getElementById("jarFill");
    const decisionEl = document.getElementById("decisionText");

    const giveBtn = document.getElementById("giveBtn");
    const resetBtn = document.getElementById("resetBtn");
    const randomBtn = document.getElementById("randomBtn");

    let remaining = STARTING_FUCKS;
    let lastReset = null;

    function todayKey() {
      const now = new Date();
      const year = now.getFullYear();
      const month = String(now.getMonth() + 1).padStart(2, "0");
      const day = String(now.getDate()).padStart(2, "0");
      // Represents the calendar day. When this changes, jar resets next load.
      return `${year}-${month}-${day}`;
    }

    function load() {
      try {
        const savedRaw = localStorage.getItem(STORAGE_KEY);
        const today = todayKey();

        if (!savedRaw) {
          remaining = STARTING_FUCKS;
          lastReset = today;
          save();
          return;
        }

        const saved = JSON.parse(savedRaw);
        if (saved && typeof saved.remaining === "number" && typeof saved.lastReset === "string") {
          // If the saved day is today, keep the remaining value
          if (saved.lastReset === today) {
            remaining = saved.remaining;
            lastReset = saved.lastReset;
          } else {
            // New calendar day, reset jar
            remaining = STARTING_FUCKS;
            lastReset = today;
            save();
          }
        } else {
          remaining = STARTING_FUCKS;
          lastReset = today;
          save();
        }
      } catch (e) {
        remaining = STARTING_FUCKS;
        lastReset = todayKey();
        save();
      }
    }

    function save() {
      try {
        localStorage.setItem(
          STORAGE_KEY,
          JSON.stringify({ remaining, lastReset: lastReset || todayKey() })
        );
      } catch (e) {
        // ignore
      }
    }

    function updateUI() {
      const pct = Math.max(0, Math.min(1, remaining / STARTING_FUCKS));
      countEl.textContent = remaining;
      unitEl.textContent = remaining === 1 ? "fuck" : "fucks";
      jarFillEl.style.height = pct * 100 + "%";

      let msg = "";
      let isEmpty = false;

      if (remaining <= 0) {
        msg = "You are out of fucks for today. No is a complete sentence.";
        isEmpty = true;
        giveBtn.disabled = true;
      } else if (remaining <= 3) {
        msg = "You are almost tapped out. Only real priorities get a yes.";
        giveBtn.disabled = false;
      } else {
        msg = "You have room to care about a few things. Choose on purpose.";
        giveBtn.disabled = false;
      }

      statusEl.textContent = msg;
      statusEl.className = "status" + (isEmpty ? " empty" : "");
    }

    function setDecision(text) {
      decisionEl.textContent = text;
    }

    function giveAFuck() {
      if (remaining <= 0) return;
      remaining -= 1;
      save();
      updateUI();
      setDecision("You chose to spend one fuck on this. You do not owe anyone more than that.");
    }

    function resetJar(manual = false) {
      remaining = STARTING_FUCKS;
      lastReset = todayKey();
      save();
      updateUI();
      if (manual) {
        setDecision("You manually reset your jar. You get to start over whenever you decide to.");
      }
    }

    function randomCare() {
      const options = [
        "Absolutely not. Your energy is already overbooked.",
        "Not today. Your nervous system voted no.",
        "Okay, fine, one fuck. That is all it gets.",
        "Ask again after food and sleep.",
        "Emotionally you are on airplane mode."
      ];
      const choice = options[Math.floor(Math.random() * options.length)];

      if (choice.includes("one fuck") && remaining > 0) {
        remaining -= 1;
        save();
        updateUI();
      }

      setDecision(choice);
    }

    giveBtn.addEventListener("click", giveAFuck);
    resetBtn.addEventListener("click", () => resetJar(true));
    randomBtn.addEventListener("click", randomCare);

    load();
    updateUI();
  </script>
</body>
</html>
